<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="card">
	
	<!-- 전체 카드 조회 -->
	<select id="selectAll" resultType="vo.ViewVo">
		select * from subjectCard
	</select>
	
	<!--특정 카드 조회-->
	<select id="selectBySubject" parameterType="java.lang.String" resultType="vo.ViewVo">
		select * from subjectCard where s_name=#{s_name}
	</select>
	
	<!-- 이미 추가된 카드인지 확인하기 -->
	<select id="selectCheckMyCard" parameterType="int" resultType="vo.MyCardSetVo">
		select * from mycardset where c_idx=#{c_idx}
	</select>

  	<!-- DML -->
	<!-- 학습세트추가(카드만들기) -->
	<insert id="insertCard" parameterType="vo.QnaVo">
		<!-- insert into qna values(seq_q_idx.nextVal, seq_c_idx.nextVal, #{q_question}, #{q_answer}, default) -->
		<!-- qna테이블에 저장한다. -->
	</insert>	
	
	<!-- 나의 학습세트에 카드 추가하기 -->
	<insert id="insertMyCard" parameterType="vo.MyCardSetVo">
		insert into myCardSet values(seq_mc_idx.nextVal, #{s_idx}, #{m_idx}, #{c_idx})
	</insert>
	
	<!--나의 학습세트에 추가된 학습 카드 조회하기-->
	<select id="selectMyCardList" parameterType="int" resultType="vo.ViewVo">
		select * from studyCard where m_idx=#{m_idx}
	</select>
	
</mapper>